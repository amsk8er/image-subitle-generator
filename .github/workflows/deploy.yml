name: éƒ¨ç½²åˆ° Cloudflare Pages

on:
  # å½“æ¨é€åˆ°mainåˆ†æ”¯æ—¶è§¦å‘
  push:
    branches: [ main ]
  
  # å…è®¸æ‰‹åŠ¨è§¦å‘å·¥ä½œæµ
  workflow_dispatch:

jobs:
  deploy:
    runs-on: ubuntu-latest
    name: éƒ¨ç½²åˆ° Cloudflare Pages
    
    steps:
      - name: æ£€å‡ºä»£ç 
        uses: actions/checkout@v4
        
      - name: éƒ¨ç½²åˆ° Cloudflare Pages
        uses: cloudflare/pages-action@v1
        with:
          # Cloudflare API Tokenï¼ˆéœ€è¦åœ¨GitHub Secretsä¸­é…ç½®ï¼‰
          apiToken: ${{ secrets.CLOUDFLARE_API_TOKEN }}
          # Cloudflare Account IDï¼ˆéœ€è¦åœ¨GitHub Secretsä¸­é…ç½®ï¼‰
          accountId: ${{ secrets.CLOUDFLARE_ACCOUNT_ID }}
          # é¡¹ç›®åç§°ï¼ˆå°†åœ¨Cloudflare Pagesä¸­åˆ›å»ºï¼‰
          projectName: image-subtitle-generator
          # éƒ¨ç½²ç›®å½•ï¼ˆå½“å‰ç›®å½•çš„æ‰€æœ‰æ–‡ä»¶ï¼‰
          directory: ./
          # Gitæä¾›å•†
          gitHubToken: ${{ secrets.GITHUB_TOKEN }}
          
      - name: éƒ¨ç½²å®Œæˆé€šçŸ¥
        run: |
          echo "ğŸ‰ éƒ¨ç½²å®Œæˆï¼"
          echo "ğŸ“± ä½ çš„å›¾ç‰‡å­—å¹•ç”Ÿæˆå™¨å·²æ›´æ–°"
          echo "ğŸŒ è®¿é—®åœ°å€: https://tools.cloudeals101.com" 